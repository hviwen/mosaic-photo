I need to implement several UI/UX improvements for this mosaic photo editor application. Please help me with the following optimizations:

## Optimization Requirements

### 1. Sidebar Collapse Behavior
**Current Issue**: When the left or right sidebar is collapsed, the content gets compressed instead of being hidden.

**Required Fix**: When sidebars are collapsed, their content should be replaced with icon-only buttons, not compressed. The sidebar should maintain a minimal width showing only icons.

**Files to modify**: 
- Sidebar components (likely `src/components/SidebarLeft.vue` and a right sidebar component)
- May need CSS/layout adjustments

### 2. Canvas Default Fit
**Current Issue**: The canvas doesn't fill the available viewport area by default.

**Required Fix**: The canvas in `src/components/CanvasStage.vue` should automatically fit to fill the entire middle visual area on initial load and when the viewport changes.

**Implementation hint**: The `fitToView()` and `computeFitViewport()` functions exist but may not be called at the right times.

### 3. Auto-Rearrange on Canvas Size Change (After Photo Upload)
**Current Issue**: When users upload photos and then change the canvas preset size in the left sidebar, the photos maintain their original positions instead of being rearranged.

**Required Fix**: After changing canvas size via the preset selector, automatically trigger the "自动排版" (auto-arrange) function to re-layout all photos to fit the new canvas dimensions.

**Files to modify**:
- `src/components/SidebarLeft.vue` - the `handlePresetSelect` function
- `src/stores/mosaic.ts` - the `setPreset()` function
- May need to call `fillArrangePhotos()` from `src/composables/useLayout.ts`

### 4. Auto-Rearrange on Canvas Size Change (With Selected Photo)
**Current Issue**: Same as #3, but specifically when a photo is selected for editing.

**Required Fix**: Even when a photo is selected (`store.selectedPhotoId` is not null), changing the canvas size should still trigger auto-rearrange. Currently it might skip this to preserve the selection state.

### 5. Right Sidebar Responsive Resize
**Current Issue**: When the canvas size is adjusted, the right sidebar (if visible/expanded) doesn't adjust accordingly.

**Required Fix**: When canvas dimensions change, if the right sidebar is not collapsed, it should resize/reflow its content to accommodate the new layout.

**Implementation consideration**: This may involve watching canvas size changes and updating the right sidebar's layout or triggering a resize event.

---

Please implement these changes, ensuring that:
- The user experience is smooth with no jarring layout shifts
- The auto-arrange functionality preserves photo aspect ratios and uses the existing `fillArrangePhotos` logic
- Sidebar collapse states are properly managed (likely need to add state tracking for collapsed/expanded)
- All changes work correctly with the existing ResizeObserver and viewport management in `CanvasStage.vue`